---
spec_version: "1.0"
comparison:
  compare_with: "single_result"
  include_result_with_score: "pass"
  aggregate_function: "avg"
objectives:
  - sli: "web_throughput" #no check on throughput here
  - sli: "web_error_rate"
    pass:             # pass if no errors
      - criteria:
          - "<1"
    warning:          # warn when less than 10 errors
      - criteria:
          - "<=10"
  - sli: "web_response_time_p50"
    pass:             # pass if (relative change <= 10% AND absolute value is < 800ms)
      - criteria:
          - "<=+20%"
          - "<1000"
    warning:          # if the response time is below 1000ms, the result should be a warning
      - criteria:
          - "<=1200"
  - sli: "web_response_time_p90"
  - sli: "web_response_time_p95"
    pass:             # pass if (relative change <= 15% AND absolute value is < 2000ms)
      - criteria:
          - "<=+25%"
          - "<2500"
    warning:          # if the response time is below 2500ms, the result should be a warning
      - criteria:
          - "<=3000"
  - sli: "rmi_throughput"
    pass:             # pass if relative change <= 5%. check chatty services
      - criteria:
          - "<=+15%"
  - sli: "rmi_error_rate"
  - sli: "rmi_response_time_p50"
  - sli: "rmi_response_time_p90"
    pass:             # pass if (relative change <= 15% AND absolute value is < 1000ms)
      - criteria:
          - "<=+25%"
          - "<1000"
    warning:          # if the response time is below 1500ms, the result should be a warning
      - criteria:
          - "<=1500"
  - sli: "rmi_response_time_p95"
  - sli: "db_throughput"
    pass:             # pass if relative change <= 15%
      - criteria:
          - "<=+15%"
    warning:          # warn if relative change <= 20%
      - criteria:
          - "<=+20%"
  - sli: "db_error_rate"
total_score:
  pass: "85%"
  warning: "70%"
